<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Psychic Game</title>
    <script src="assets/javascript/game.js"></script>
</head>

<body>

    <div>
        <h1>The Psychic Game </h1>
        <p id="instructions">Guess what letter I'm thinking of</p>
        <p id="wins"></p>
        <p id="losses"></p>
        <p id="guessesLeft"></p>
        <p id="guessesSoFar"></p>
    </div>

    <script>
        //variables
        var j = 0;
        var wins = 0;
        var losses = 0;
        var guessesSoFar = [];
        var guessesLeft = 9;

        //"physic" choices
        var computerChoices = ("abcdefghijklmnopqrstuvwxyz").split("");
        var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];
        alert(computerGuess);

        //variables to hold references
        var winsText = document.getElementById("wins");
        var lossesText = document.getElementById("losses");
        var guessesLeftText = document.getElementById("guessesLeft");
        var guessesSoFarText = document.getElementById("guessesSoFar");

        document.onkeyup = function (event) {

            // user letter choice
            var userChoice = event.key;
            // fill the array with the letters chose by the user
            guessesSoFar.push(userChoice);

            if (j < 9) {

                //if the user guess the letter 
                if (userChoice === computerGuess) {
                    wins++;
                    //after the first win the game will start over again
                    guessesLeft = 9;
                    // var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];
                    j = 0;
                    guessesSofar = [];
                }
                guessesLeft--;
                j++;
                
                //the user will have 9 guesses in total and everytime a letter is chose this # will decrease

                if (guessesLeft === 0) {
                    losses++;
                    //afeter the first win the game will start over again
                    guessesLeft = 9;
                    // var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];
                    j = 0;
                    guessesSoFar = [];
                }


                //text on the page:
                winsText.textContent = "Wins: " + wins;
                lossesText.textContent = "Losses: " + losses;
                guessesLeftText.textContent = "Guesses Left: " + guessesLeft;
                guessesSoFarText.textContent = "Your guesses So Far: " + guessesSoFar;
            }
        };
    </script>

</body>

</html>